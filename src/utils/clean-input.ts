/**
 * ทำความสะอาดข้อความที่ผู้ใช้ป้อนเข้ามา
 * @param input - ข้อความที่ผู้ใช้ป้อน
 * @returns ข้อความที่ทำความสะอาดแล้ว
 */
export const cleanInput = (input: string): string => {
  if (!input) return "";

  return (
    input
      // ลบเครื่องหมายคำถามที่อยู่ท้ายข้อความ
      .replace(/\?+$/, "")
      // ลบช่องว่างที่อยู่หน้าและท้ายข้อความ
      .trim()
      // ลบช่องว่างที่ซ้ำกัน
      .replace(/\s+/g, " ")
      // ลบอักขระพิเศษที่ไม่จำเป็น แต่ยังคงตัวอักษรภาษาต่างๆ รวมถึงสระและวรรณยุกต์ภาษาไทย
      .replace(/[^\p{L}\p{M}\p{N}\s.,!?]/gu, "")
      // แปลงข้อความเป็นตัวพิมพ์เล็ก
      .toLowerCase()
  );
};
